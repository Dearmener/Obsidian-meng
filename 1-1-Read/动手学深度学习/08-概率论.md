## 联合概率
联合概率$P(A,B)$，联合概率可以回答事件 A 和事件 B 同时发生的概率是多少

## 条件概率
$P(A, B) = P(B|A) \times P(A)$。这个公式描述的是联合概率 $P(A, B)$，即事件A和事件B同时发生的概率，可以通过条件概率 $P(B|A)$（在事件A发生的情况下事件B发生的概率）乘以事件A发生的边缘概率 $P(A)$ 来计算。
这个公式基于条件概率的定义。条件概率 $P(B|A)$ 是给定事件A发生时，事件B发生的概率。根据条件概率的定义，我们有：
$$ P(B|A) = \frac{P(A, B)}{P(A)}$$
如果我们将这个等式重新排列，我们得到：
$$ P(A, B) = P(B|A) \times P(A)$$
这个等式表明，要得到两个事件同时发生的概率（联合概率），我们可以将给定其中一个事件时另一个事件发生的概率（条件概率）乘以那个给定事件本身发生的概率（边缘概率）。这是概率论中的一个基本且重要的关系。

## 边缘概率（marginal probability）
为了能进行事件概率求和，我们需要求和法则（sum rule）， 即B的概率相当于计算A的所有可能选择，并将所有选择的联合概率聚合在一起：
$$P(B) = \sum_{A} P(A, B),$$
## 贝叶斯定理
$P(A,B) = P(B|A) \times P(A)=P(A|B) \times P(B)$，所以有
$$P(A \mid B) = \frac{P(B\mid A) P(A)}{P(B)}$$

## 期望与方差
### 期望（平均值）

**不含f(x)**
$E[X] = \sum_{x} x P(X = x)$ 是离散随机变量的期望值（或平均值）的定义。这里的 $E[X]$ 表示随机变量 $X$ 的期望值，它是随机变量取值的加权平均，权重是每个值出现的概率。
具体来说，这个公式是这样工作的：
- $x$ 是随机变量 $X$ 可以取的所有可能值。
- $P(X = x)$ 是随机变量 $X$ 取值为 $x$ 的概率。
- 对所有可能的 $x$ 值，$x \times P(X = x)$ 计算了每个值的加权贡献。
- 将这些加权值相加，得到的总和就是随机变量 $X$ 的期望值。
期望值提供了随机变量可能结果的“中心”或平均情况，是概率论和统计中的核心概念之一。对于连续随机变量，期望值的计算类似，但是使用积分而不是求和来处理所有可能的值。

当然，让我用掷骰子的例子来说明离散随机变量期望值的计算。
假设我们有一个标准的六面骰子，每个面上的数字分别是1到6。我们想计算掷骰子得到的数的期望值。
#### 随机变量 X
在这个例子中，随机变量 $X$ 表示掷骰子的结果。$X$ 可以取1、2、3、4、5、6这几个值。
#### 概率 P(X = x)
由于骰子是公平的，每个数字出现的概率都是相等的，即 $\frac{1}{6}$。
#### 期望值的计算
根据期望值的定义，我们可以计算 $X$ 的期望值：
$$ E[X] = \sum_{x=1}^{6} x \cdot P(X = x)$$
由于每个结果的概率相同（$\frac{1}{6}$），期望值计算为：
$$ E[X] = 1 \cdot \frac{1}{6} + 2 \cdot \frac{1}{6} + 3 \cdot \frac{1}{6} + 4 \cdot \frac{1}{6} + 5 \cdot \frac{1}{6} + 6 \cdot \frac{1}{6}$$
$$ E[X] = \frac{1}{6} (1 + 2 + 3 + 4 + 5 + 6)$$
$$ E[X] = \frac{1}{6} \times 21$$
$$ E[X] = 3.5$$
因此，掷一个公平的六面骰子的期望值是3.5。这意味着如果你掷骰子很多次并计算所有结果的平均值，平均值将接近3.5。这不意味着你实际上可以掷出3.5，而是表示所有可能结果的平均数。

**含 f(x)**
$E_{x \sim P}[f(x)] = \sum_x f(x) P(x)$ 是用于计算随机变量经过某个函数 $f(x)$ 处理后的期望值的公式。这里，$x$ 是从概率分布 $P$ 中取样的随机变量，而 $f(x)$ 是应用于这个随机变量的任意函数。
在这个公式中：
- $x$ 是随机变量，可以取不同的值。
- $P(x)$ 是随机变量 $x$ 的概率分布。
- $f(x)$ 是定义在 $x$ 上的函数。
- $E_{x \sim P}[f(x)]$ 表示在概率分布 $P$ 下，函数 $f(x)$ 的期望值。
计算 $f(x)$ 的期望值涉及对所有可能的 $x$ 值，$f(x)$ 的值乘以 $x$ 的概率 $P(x)$ 的加权和。
这个概念在统计学和概率论中非常有用，尤其是在期望值不仅仅是直接观察的随机变量的情况下。例如，如果 $f(x)$ 是随机变量的某个函数，如平方或对数，这个公式可以帮助我们计算该函数的平均值或期望值。

当然，让我们通过一个具体的例子来说明公式 $E_{x \sim P}[f(x)] = \sum_x f(x) P(x)$ 如何工作。
#### 例子设定
假设我们有一个简单的随机变量 $X$，它只能取两个值：1和2。每个值出现的概率分别是：
- $P(X = 1) = 0.3$
- $P(X = 2) = 0.7$
现在，我们定义一个函数 $f(x) = x^2$。我们的目标是计算这个函数在随机变量 $X$ 上的期望值。
#### 计算步骤
1. **计算每个 $x$ 值的 $f(x)$：**
 - $f(1) = 1^2 = 1$
 - $f(2) = 2^2 = 4$
2. **将 $f(x)$ 乘以每个 $x$ 的概率并求和：**
 $$ E_{x \sim P}[f(x)] = \sum_x f(x) P(x)$$
 $$ = f(1) \cdot P(X = 1) + f(2) \cdot P(X = 2)$$
 $$ = 1 \cdot 0.3 + 4 \cdot 0.7$$
 $$ = 0.3 + 2.8$$
 $$ = 3.1$$
#### 结论
所以，函数 $f(x) = x^2$ 在随机变量 $X$ 上的期望值是3.1。这意味着，根据 $X$ 的概率分布和 $f$ 的定义，$f(x)$ 的长期平均值或期望值是3.1。

## 方差 
$\mathrm Var(E) = E(X^2)-E(X)^2$
方差描述的是随机变量$X$与期望的偏差，计算方法为
$$
 X^{2} - E(X)^{2}
$$
随机变量的平方的和减去随机变量的和的平方
## 标准差
对方差开根号